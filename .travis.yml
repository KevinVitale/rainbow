matrix:
  include:
  - language: objective-c
    osx_image: xcode10.2
    xcode_sdk: iphonesimulator12.2
    xcode_destination: platform=iOS Simulator,OS=12.2,name=iPhone X
    env: NODE_VERSION=12.13.0
    branches:
      only:
      - master
    cache: yarn
    install:
    - nvm --version
    - echo $NODE_VERSION
    - sudo launchctl limit maxfiles 2048 unlimited
    - sudo ulimit -n 10000
    - brew tap wix/brew
    - brew install applesimutils
    - brew update
    - nvm install $NODE_VERSION
    - nvm use $NODE_VERSION
    - nvm alias default $NODE_VERSION
    - brew install yarn
    - yarn cache clean
    - yarn install --network-concurrency 1
    - yarn global add react-native-cli
    - yarn global add detox-cli
    - yarn
    - yarn nodeify
    - pod repo update
    - yarn install-pods
    - FORCE_BUNDLING=1 detox build -c ios.sim.release
    script:
    - detox test -c ios.sim.release --no-color --headless --cleanup
env:
  global:
  - secure: 2GwzUmR9SFbTkm+fVSV0QGyn60laWYSP8mtDhNOCnepTErUw32kp6+O9mmWywLR5zoG/pvAC541kNzY4QhPRh1g1CoMVEwAKmTWgC0Kam+FmoI1KCTS4W2FpCEwYa/7WmqPCBAj6E+MiiSP8yiilTNGDGTBEPNVvbOeQYQDY5sTSJvdqaRNSZaQPRHAhEiISERhHdXaey/pE3V+isWc2lRIckauXxuFjlgde5kxW8kfknbZmfRQMC0uAWros6WDJ2OerKCK5Yc96bjYTBgOll2zLVVaaMjW8hv+woMVNef13/s7ZE4EYoWMq1Expb9Ql4A0OXRHW4lTETQoRfAOivjMhSnSC3R0pd8Pt1/LSYFPBjkxGzKEpzrPX5kelkB1/r2iPcQC7quy1s/E81NeFUbW+YSi0S5M5WudgpBCikToqpaEbSbclKPQezr3y5Anz3KI5N38sHgVR/y7tx8JVyI4VkGnyvi8unEL+x8DHp1qNeE5Se8nAemA7arlok2l+RtPiofMUZMt6D+2mbMeGt/llvhMP3RPmAJIEJtbB4WBVUjr6r8nmKO8aSiIKiyyvZQws3YVbFf0c6RgK1vOAtOg86FT8ARpJIOwcKBUNGdLpSpzNwu7E8AtAPHKbhQ+5OO8r6Z1dfrcKGttg8TBCtsXPx3fJgoZyE0xu7X0ZZZY=
  - secure: h47fEI5gZ/kcoSvQx7fQ8QJSepzK3ii+VnQtYzxIe0O8A5Pw1vkxkpr0Azx6l4lFEGJXSX+X/uyATeQXPvzs2hc6xKgiN/BUh4uPZKHfaUPmioJ77C2xssAZZu1Vd7W1uCiHWAwjkI9NlfBa58+II9Ii+BkTaWHbCp2ONnf7R/HedQRxyYaCw2FIutGD0NJjhECLIiHiNgveeqfBI9ELoyJJfkFZFMogozhsmzlbvN7ToGzEYz3T9m+tqtVVmX/dBhlnRge4U0KTVxyz0iIspXeQBJHO/foKsk1rFtYNvTtlnHqbU4nvysCETujGw0QJsX1EdmOUDaeX9SeyhLTsH8pwLGV82cmun126dvDiKeMiifz2S4fM5qR1k0zadnYG8w5yJlmTxFx6pJSzG9+k7dQv453IBRYUPlnRveTr/W/SQRSGVB47B+6nPfHdCNQQ5gCaaz+Ov2LNeubNcZBx1xCOehWQqKRuhA0gW+ABzJv7tlm+su1CmssESMyFfWEgngEta9/ikLRQVqDhVXR7gU0Yw9YyAQ9y0+nppmz0unjjif8o8pRzLStEpyE++qtpw/pnNqZzKPM338q/VcNrFKRrjNcs02TgL9FKnZdl306IgTPcDbHFcekSFf/+/5xdre9pdpyno1a1GD0bkvouvUWPOgIlYBL9WzbWKDTFnkk=
  - secure: Ol4IkYbM3OfmEL/lyYspLv2aVPWwG/1Lvtrz/p3U/PUkLG1BBVEWspvXr3tE6yGTECWGRLSjfCOPG9hS+AAH58ReAOFUIjidPy5kUTNMG+evmkFm/DiufZ181ciT7mHpjL94H/RKPuuxI/vTm1La5VCkNM/Vyh4JYdOFp77OD7sEss1NwMtIaNtGxtZSUUANXLiv3dts5VcrqNxrJhvR6HXJ6UOWJalkdzMq6U8GTA8rNPBT0x3094rNnhy+nfOMw7wFEDAQL/BtJWeVt4KodlZKaabxYZe1V+Vk0SkH5uFDNnEup3keNuhaWDM3BdTeWNY7UNcBOVvaiyfVc2YJS3zUHbU6E+BCn2GRHGZTSMzip/oEdba4SfBi9NShKrw8b3hvywPdDk/RmUHFPHl+pgdsExZQQiAJQEyTNGu3oZAwAfMEtmaCf3EHIxPoqwnhIGG7h5Vyyf1YE1XwJBq9Z+Q4tmwVEaldUXAe8CKbsNp446J60Htr++wWh8jekVYsuM05Mo4WZEa1DYaT5UKSObAlm71S6qM0CXRKPpiOlz9dyL6He0fKqZHI5lfZ7q4IENyUyKj+d65uC2eZ8b6duw3TQ+uSAe278gRd45YLGJBAkyjH3YyXdV2CS6+FJgjGorqNuprgReGmELDqsBLIoQ8a/M7hfYfG48Yeu9B/8JY=
  - secure: awUTfFkCWX7+R8KPyZnWj3uip23I7meSTFO9I/s8nI+F3vaSvxhKUh3PyyIQjqfU3xZ+aL4tDJB+S2E0WP4ubUBECaMrJTViM1S0h9SQEwobD1Xv646TEWczKLBvMjMEQmu1Vh4XpWybK0huNo0VvgFUKS6LxHiHreFbmt5bRV8oke0DeZ7H3MvQJKsvKKbx/xv6sby3w7Hp53DLwBfr5zKm7uDuIJrNb/OAsKNt9JXPsL6vgfT1WgVUAIz6+uRnbi996Cyl4u6s+GJ31/FdEzLpK2Lim5N6kbuT3NjwhYLP5IhQ0PffxEPKSbCSLJfxQHVnNyKq8Q/NvqwBVQDqs8JnK/PpYKNcp/0uizh10e25l59evMVYCoYocQUMujhJSzY+CKTC2FJ/UBJoptQ5aPpMlWHOE8WYy3F9q5HylN/U9TrUxcmtfzBkEQkpWMrPrIbDCouCtpir50AHYTv+enWlY3iVJcOGSSXgEsEei48L3v2i3+0UYW2qa0i/Ul90xji3OfyHio1+ooaRDqLgsxuiJFFYlI9y7N+nnKCsjdKFNDek5rHUsNL3Rk8CYdPPQPEG74HVQ+EQAbyetuUMNC8+aPJSsnDGQZ8gmFku1VT5GQ9O/ZG0UlCINxze2sK98bBL9pj0BEjMupTK/4N/TfK4TXwElLoyqI9JXgJtgyc=
  - secure: GRux8rsM2bnGiuQM5lvhRjl8RwYPPWYT2pGzHJnbK1WCFomxsmvg6BSY2i1LHk6jVaT5tWHgW1AJcYYuFERxNjUbSxKbcEBC/6X9ASq2CkVCthK03XwrjC7OLuZZIIU09DjwxKEyMfhNGfZexgZgZGzqdNT69ihXTekQY32+RrRHtzH9SS99NhwwHjaQFqznotuipMmll5sY93sMGTUbEXZn3gMTjgQ/jdoXmeUzzZBWJLExhbS+oDCVB8uRhk65xPqj/jtdk6yDQF7tv6ktfa2lVek/sPgJOU5eFPjb405BVL5CWQp4PNh0WJ2z9BBK8PSvnKcMiQggdROcps2uAFcCE8VXmfTHX7Yk5hml8tN4Zb+i2Q34fx1KqttpNKyFkSZc3T/FPVGi/iGpc9nSqbcIfLR8d54hYmgF1GaFb3PTYENgnqlIRmbOjq7iR1a5YAXmGDJb7G4/1V6Xco+N+rR7m02bcKBuv1wWEOUJKfBT24NQiADJT+WENi0QXaXJi59mZ1EIt4FcMG2gBRuDf3Z8ldutu2xINJzdlIr1MonV+m4Dkt9AgtgKohQrf+ywTx8lHdhySg42Zzl5DALh0HprAjV89VPcVWr46dhhaGGl8hCpb1VdSyCoAXs5pxfwNrBHjuNpV8AlyvS7Jm0CKvisFkrDR2TTE0i7qqfDivE=
  - secure: bsncwmbgj6HxefTHqsveg1ZPS5MLRRA+Np8ZK5mfeE+clcK/9DCimd2kZKz6CPnpELR3k509bncuegOAgW2UHtx8jq9ExPwppfqlTetkvHPe8Gy5HCOpDvSC0vSrfCUb39fuMGQ1oDNZYDHHDhrr1HExm9xMyWAiQTOMEVbLomPEmZjBatiqnGyaCH65qBY0AtVZApxp8amLw8xk8QTOxDYHTo09B7/blyjix3Qcg2g7zJpZdhKnEr8vFpFxAM7iCkLcvN1ZxCZAffZzDalFcqcF9Z93gsVczSfSAn1cedyhXDghYk8wSXI7C8XH/Krk4fMPx9NIGQjlNF/1eOJhOV1LDSeNLqmsb77DLreDFFXpzY3iaQXMU0D1t2E8m8dI5B9SHvebNAWWScKIAkIO4UvHpT3YUr0L4ntgGefuMlerueTlvfj1keqduI0beSmEzWeS/AqhpEwCgwy7egtfRn5kFZVgOJGL9jbua40LoqEh6kl3UP5sMbc9lPOWrPp04+l4XVKCDroKNvwBwcm2Ewwc3R6EdpT0rKxZ1WbtFUUx9OzJEEvoyh3zvdude0zGIfFXRY4w7dABxqdjbW5xQXdskY3Wrv4iJwBFW/Trr1OP9l8ATEXLuZv43E6dpEKQBleJMT/RUm718DWUwWKdZyEvlFd3pzn7vvud0+GyE94=
  - secure: y3IhMdHeGiiwAzdU//6wLXmW0QqDWHTbtQhK+Zly2j6VG3KwQgHD5EoxCNp/UIYmZbIl3nEBPox/ZFMjj827hjdmqrVcsfwRhcenElby/Z9J1aFuxSRrYeRGjXnGU47llz6DaD//SD0cmWbroLloNhbFEmxlmh0mBbL9vdA8V5wgZIoZPdVKW9J/WKBiV4vANO2hCbdvn2DUH0GKAfESiUHezOUSFPjwn8/8dxgxT6+5NxQAjttfqTPMcEZYRA6YmyOovEeivcpJT2taZPUG19op6neXhtx84/CW/uCokMVp2DBr8dHa2JAEcklpNvqy7TSH2NpDN6yxugJklnJMSw4uGK5npINWNelpYhvHDHVddFKIvwzkZMCWcYid1p3eE6KJLToyiWRku5aEeBeHoNdmOE3/hOkDh/FLPw7vHeggZiO3gDy7NonW35zis7YDQnhQ53SyWCmzIqv1Tlus6Z53BRC/OB+sGLgkygmgLnCF0sLSqoz8eRdgk/a+pLPIhOfCLgp/yGvhIW+eNZnXM4n4opcEWcDdcL4msoOgj5ebcM3PYB3QqSLoDxQbU4GYWFWIjUOEBjighiW6n3FnbQ45hpsyUZQU8bRXPKoitrEDtHYK0XB2cmfArxMmhcgUHbqq6DJaMYuQJG1vvjSN6YgMC7ihIAu/s3Ly9qSrefg=
  - secure: J3AO3K8sAs7K/FOEk6QYdmp4bxpeVtTkAuAWDkQtFJazKKcpfpkTbh220aJbN3GVSwlB7EXr0yN/PavtwzR5JRgQgOMgReFNLibQwrjf4d/snRV34HEP/0APAvHbv+OSayiGvaEsZUiv049ZIFl2pLmgyrvbcDGf1h3wUGcJVQgI8TW7uWNkN27jhOSoAY5t0pTlHtmgvqMtvZUM3aiHtVSC7QT6RL1S89lqAXzwctE6ZFOq0buchQfVolonKZRVoRcih32cePvQsk66DizLTpiM8sQvswbGNSBdkKaCefUJiZFF8WNdHWJiCiAUTgNF82ar5Cg/BXUPPB7asN9bS5CchfGAC/AZPLP8IpHlQi+4cLHJd3VRSdIyxbOJoh5QN7QgcUX7m47AKZbpgrpLc86WwamJyJi9o3CuUm+WWQ5P/hxwRO5A1rXzp3KsCQCkkL89JKXwQV1TOon/dUKCjc15xawgw0w9Zro++HCAOukz77xFC1pnPn0+iFkrjMdv98sri+4CXFCH5bTgJfOk9EhgxtneRcpe4xXqA2paCBti12qdZRiSUZP4tHcXrmw5W9/2A1pU5bLcIXoMH/x7B4HnfPVfG+CY1ASJkqV3wZDDhUKjSTyWa27JZCtVRWbKyY2n13AHWIB5x8WuyQ9wD16nBKCv8IxKOtnIU+ODgt0=
  - secure: Ty4GE1uGFDLXI23iOGOLHOVm3b9WESEDxu7YLMXQFoWr7JKrp4Lg7G+MFBq2Mje0CFnIMHkl73fNf1PfbUHTAkGEnG0ik5XrFif8TippScKoFk66BaJTtsknn7xbjNIK0/fgClJGBGid3BJncxNP3n0n8C+2WiS0esyP+nR8MPA4yvUsXxIYnra4NKcqm1Q9KSLZ4XHTqA7Tb4/xVu7viY+nfttclohdvukld5o/iIFNaWXluKueIGdVNI/fe6nSprFceZz/5cObXhiaPUIvnrIkezbjaoSxwZgZLqh/bQ9trDOAtGH26uyx5pV+JMKVIDFdCwonMMGpMtfHwBgbgi4ehHWpSgCRPSZZ1bsBo1kBq9IebxfIkl8amGWAj+kY68J/TOHvsrr5Xowsm6BJTqE8XD6MFTDZJNyg/eYaWH3393YLrYQzvDmOrX/VnTP7S1FKqlhm4fD9xxnKA9CJkkXH+zuDoeh02YvUabKov9s15IUgiSw9M9ZxQym9yqlUAzHGBRNaX/oEXOM4Yzh63218C+TmEr53ByQGf8tYb0Co9553ksbEwcdBGT1bJMVIXqr6uRlTqB0+IwyS8NoWb1C+5uU8SjccACONCOXxWOGo3zdbPC+caGMLXUXB5f1I4BcGUFJ8sFnsHVWL7IhP+ufZGO0NVLUFEsaL/48Eh20=
  - secure: dWr0oprRADq9DA8WoDb7iOwY2RiIjIrWdWBv5o2hAd1D2fNDWKEapULk2RNxhfqRqxvQa5Wz+WxcJRKEkIzfxot62quMDTDPNap/cQT8yi7AYlc0wbh7W3KnFmP1dTL1iJfNgEqmwEK3OgfeEwpoYXlnOpE39bfAjf2Z9sDoJjaaSnRz9I012NUXyW1QxCvBkFG/+zQh4lRLDM5kTk8mXDCfKXAue2w3pt+mKNkFWQj/esA2iXU9reWhRh4PLs4y4yR5sCHFYjid6ZQKL1oD6ZdA/BgfhDxJ7nr1AcJCm6KooIcumsanqkovnxY1DZot+gnN9WcHK02bSUdGP8umWUo1WVKQ8wsWYfkCHx9ESRjFQJ4dqUlTZW2ZbZXxck0IItr0Z9oFkcmHNsuEsECwj6QxH89BcLk6AWepiJ9vgnfycHScwz0ZbenL9rp/Gt6gxYSuuHKquBxrsHmoBr8SCNb3tG/L1Aoi/gV2A9V98U9G6tgZeDFEbHQSZ56rMd1l+DwGZ9FC2dmeyu8cQaIUZtzLmrwQnf2sDTkUpXre98sFE96rIygIE2dB/VHYz9N0nqEPTXmk+rTXmil5jX/d47htDFdqlucUBxQxw0GaIMTRjTd3Rlg52yd7+dScg3qrmyVo4NSKLbywQEpvuqN5vyGYnl4k/6d4H6MUy5sbals=
  - secure: zD7fSb11Iu3HkGstpCW+Fmlt8d+4ovFk2fp7xymrkaf505YM3wAa95TacETrIF6K5ZCyfhus86XSjizrZKuPOwPKh/8/3GNnuYkV3QdI/28JT4aAuE6GZqwlfwCQa/cOnMrLxXp355vXhP4bGtGgpO0HXz5fmJBu2IvX0NLqVrYH+2Po2472AW2WZl/GmDkLjZD+eei0M2arIWWG5t9hMN/dqY6LAsw4HBumIR4HBo0wxT1sMJvwwsQgH+OSD2OWdiX9YbvZfNgQepH4P+/rErH1mEXEPQgSfjeGKG11ngB8nZBAXFq1uo9RNljxHo9fmTOXYCIQ6GysDj6cxUowEeaPkfBFLV7xvWDpagXfHZtD262Ol3l2B8c50hR86AFkz9D4uTgFqVlgarnRU8kpyIj1Hvl5+wQnFgX1kQvh7BVdFN25xJoOcKEUTdjthxemG4sF3XHjdaaFtEl5rUT1J1wq3Ke63KDBIIVVwTmpYLZdjpSuox2HyMUZ+Qdq8+ta8MQtgec4B1Fgujc5VxB60a0p5RRluG3dT3k4TKftgjpZ5IOQrwaEkf8MzM4TXC4Cjkg9HAbKqk/H3ialnAgKjoO/eRe1fMrAgOJSCkixkpvsI0tvIGkmO+ZGDQpg+NVLbQ0QPHp+kRUhWm1/yligeo/HJDPLRT9yb64K7B2FIgA=
